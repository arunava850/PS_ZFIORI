sap.ui.define(["com/public/storage/paoro/utils/reusecontroller","sap/m/BusyDialog","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","com/public/storage/paoro/utils/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","s+
ap/ui/model/FilterType"],function(e,t,o,i,s,n,a,l,r){"use strict";var g;return e.extend("com.public.storage.paoro.controller.OtherDetails",{formatter:n,onInit:function(){g=this;const e=this.getRouter();e.getRoute("propOtherDetails").attachMatched(this._o+
nRouteMatched,this);this.getView().addDependent(this._oBusyDialog);this.model=new s;this.model.setData({KeyTrainingProfessional:"None"});this.getView().setModel(this.model)},_onRouteMatched:function(e){const o=this.getRouter();this.getOwnerComponent.hasC+
hanges=false;const i=this.getOwnerComponent().plant;if(i===undefined){return o.navTo("home")}const s=this.getOwnerComponent().LegacyPropertyNumber;this._oModel=sap.ui.getCore().getModel("mainModel");this._oBusyDialog=new t;this.readPropertyData(i,s);this+
.readMarketClass()},onValueHelpDialogSearchMarketClass:function(e){let t=e.getParameter("value");let o=new a("Description",l.Contains,t);let i=new a("Code",l.Contains,t);let s=new a({filters:[o,i],and:false});e.getSource().getBinding("items").filter([s])+
},_onValueHelpKeyTraining:function(e){const t=this;const o=this.getView();if(!this._pValueHelpDialogTraining){this._pValueHelpDialogTraining=i.load({id:o.getId(),name:"com.public.storage.paoro.fragments.OtherDetails.Training",controller:this}).then(funct+
ion(e){o.addDependent(e);return e})}this._oBusyDialog.open();this._pValueHelpDialogTraining.then(function(e){t._oBusyDialog.close();e.open()})},_onValueHelpMarketClass:function(){this.getOwnerComponent.hasChanges=true;const e=this;const t=this.getView();+
if(!this._pValueHelpDialogMarket){this._pValueHelpDialogMarket=i.load({id:t.getId(),name:"com.public.storage.paoro.fragments.OtherDetails.Market",controller:this}).then(function(e){t.addDependent(e);return e})}this._oBusyDialog.open();this._pValueHelpDia+
logMarket.then(function(t){e._oBusyDialog.close();t.open()})},_onValueHelpLfSTatus:function(){this.getOwnerComponent.hasChanges=true;const e=this;const t=this.getView();if(!this._pValueLFSTage){this._pValueLFSTage=i.load({id:t.getId(),name:"com.public.st+
orage.paoro.fragments.OtherDetails.Lifecyclestatus",controller:this}).then(function(e){t.addDependent(e);return e})}this._oBusyDialog.open();this._pValueLFSTage.then(function(t){e._oBusyDialog.close();t.open()})},onDetectChange:function(e){this.detectCha+
nges()},onValueHelpDialogClose:function(e){let t=e.getParameter("selectedItem");let o=e.getSource().getTitle();if(!t){return}let i=t.getDescription();let s=t.getTitle();if(o==="Market Class"){this.getView().getModel("plantBasicDetailsModel").setProperty(+
"/MartketClass",`(${s}) ${i}`)}else if(o==="Training Proffesionals"){this.getView().getModel("plantBasicDetailsModel").setProperty("/KeyTraniningProfessional",`(${s}) ${i}`)}else if(o==="Life Cycle Stage"){this.getView().getModel("plantBasicDetailsModel"+
).setProperty("/LifecycleStage",`(${s}) ${i}`)}},onPressSaveOtherDetails:function(){this._oBusyDialog.open();const e=this;const t=this.getOwnerComponent().plant;const i=this.getOwnerComponent().LegacyPropertyNumber;let s=this.byId("keyTrain").getSelected+
Key();let n=this.byId("mClass").getValue();let a=this.byId("riskScore").getSelectedItem().getText();let l=this.byId("riskRating").getSelectedItem().getText();let r=this.byId("cas").getSelectedKey();let g=this.byId("majorAquisition").getValue();let c=this+
.byId("lifecycleStage").getValue();let u=true;if(s===""||s===undefined){this.model.setProperty("/KeyTrainingProfessional","Error");u=true}else{this.model.setProperty("/KeyTrainingProfessional","None");u=false}if(u===false){const u={MartketClass:n,KeyTran+
iningProfessional:s,RiskScore:a,RiskRating:l,Cas:r,MajorAcqisitions:g,LifecycleStage:c};const h=`/PropertyMasterSet(Plant='${t}',LegacyPropertyNumber='${i}')`;this._oModel.update(h,u,{success:function(t){e._oBusyDialog.close();o.show("Saved Successfully"+
);e.getOwnerComponent.hasChanges=false},error:function(t){e._oBusyDialog.close();o.show("Something went wrong with Service")}})}else{this._oBusyDialog.close();o.show("Please Fill all mandatory fields")}}})});                                               
//# sourceMappingURL=OtherDetails.controller.js.map                                                                                                                                                                                                            