sap.ui.define(["com/public/storage/pao/utils/reusecontroller","sap/m/BusyDialog","sap/m/MessageToast","sap/ui/model/json/JSONModel","com/public/storage/pao/utils/formatter"],function(e,t,o,n,s){"use strict";var a;return e.extend("com.public.storage.pao.c+
ontroller.PropDates",{formatter:s,onInit:function(){a=this;const e=this.getRouter();e.getRoute("propDates").attachMatched(this._onRouteMatched,this);this._oBusyDialog=new t;this.getView().addDependent(this._oBusyDialog);this.model=new n;this.model.setDat+
a({ReStartDate:"None",NewOwnershipDate:"None",OriginalStartDate:"None",OriginalStartDate:"None",BuCreateDate:"None"});this.getView().setModel(this.model)},_onRouteMatched:function(e){const t=this.getRouter();this.getOwnerComponent.hasChanges=false;const +
o=this.getOwnerComponent().plant;if(o===undefined){return t.navTo("home")}const n=this.getOwnerComponent().LegacyPropertyNumber;this._oModel=sap.ui.getCore().getModel("mainModel");this.readPropertyData(o,n)},onDetectChange:function(e){this.detectChanges(+
)},onPressSavePropDates:function(){this._oBusyDialog.open();const e=this;const t=this.getOwnerComponent().plant;const n=this.getOwnerComponent().LegacyPropertyNumber;var s=true;let a="T00:00:00";let i=this.byId("restrtdate").getValue().split(".").reverse+
().join("-");let r=this.byId("newOwnerdate").getValue().split(".").reverse().join("-");let l=this.byId("orstartdate").getValue().split(".").reverse().join("-");let u=this.byId("terminationdate").getValue().split(".").reverse().join("-");let g=this.byId("+
bucreatedate").getValue().split(".").reverse().join("-");let h=i===""?a:new Date(i).toISOString().split("T")[0]+a;let p=r===""?a:new Date(r).toISOString().split("T")[0]+a;let c=l===""?a:new Date(l).toISOString().split("T")[0]+a;let d=u===""?a:new Date(u)+
.toISOString().split("T")[0]+a;let D=g===""?a:new Date(g).toISOString().split("T")[0]+a;i=h==="T00:00:00"?null:h;r=p==="T00:00:00"?null:p;l=c==="T00:00:00"?null:c;u=d==="T00:00:00"?null:d;g=D==="T00:00:00"?null:D;const w={ReStartDate:i,NewOwnershipDate:r+
,OriginalStartDate:l,TerminationDate:u,BuCreateDate:g};const m=`/PropertyMasterSet(Plant='${t}',LegacyPropertyNumber='${n}')`;this._oModel.update(m,w,{success:function(t){e._oBusyDialog.close();e.getOwnerComponent.hasChanges=false;o.show("Saved Successfu+
lly")},error:function(t){e._oBusyDialog.close();o.show("Something went wrong with Service")}})}})});                                                                                                                                                           
//# sourceMappingURL=PropDates.controller.js.map                                                                                                                                                                                                               